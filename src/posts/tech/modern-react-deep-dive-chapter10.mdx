---
slug: modern-react-deep-dive-chapter10
title: 《모던 리액트 Deep Dive》 10장 리액트 17과 18의 변경 사항 살펴보기
date: 2024-10-02
description: 모던 리액트 Deep Dive 책의 10장을 읽으며 공부한 내용을 공유합니다.
category: react
tag: tech
---

# 리액트 17 버전 살펴보기
- 16 버전과 다르게 새롭게 추가된 기능이 없으며 호환성이 깨지는 변경사항(= 기존에 사용하던 코드의 수정을 필요로 하는)을 최소화했다는 것을 가장 큰 특징으로 뽑음
- 주요 변경사항
    - 점진적인 업그레이드 지원 (애플리케이션 규모가 너무 크거나, 레거시 / 오래된 코드들이 실행되는 서비스에서 업그레이드에 대한 부담감을 사라지게 함)
    - 이벤트 위임 방식 변경 (이벤트가 document가 아닌 리액트 최상단 요소에 추가됨)
    - `import React from ‘react’ 가 필요없음` (새로운 JSX transform 으로 tsconfig.json 의 jsx 를 react-jsx 등으로 변경하면 됨)
    - 이벤트 풀링 제거
    - useEffect 클린업 함수의 비동기 실행
    - 컴포넌트의 undefined 반환에 대한 일관적인 처리
<br /> <br />

# 리액트 18 버전 살펴보기
- 주요 변경사항
    - 동시성 렌더링 지원
    - 새로 추가된 훅
        - useId : 컴포넌트별로 유니크한 값을 생성하는 새로운 훅
        - useTransition : UI 변경을 가로막지 않고 상태를 업데이트할 수 있게 해주는 훅
        - useDeferredValue : 리액트 컴포넌트 트리에서 리렌더링이 급하지 않은 부분을 지연할 수 있게 도와주는 훅
        - useSyncExternalStore : 외부 저장소의 변경사항을 구독할 수 있게 도와주는 훅 (상태관리 라이브러리를 작성하거나, 리액트 외부의 무언가에 대한 값이 필요하고, 값이 변경될때마다 리렌더링이 수행되어야하는 케이스에 사용하면 적절)
        - useInsertionEffect : layout Effects 가 실행되기 전에 전체 요소를 DOM 에 주입할 수 있게 해주는 훅 (CSS-IN-JS 를 위한 훅)
    - react-dom/client
        - createRoot : 기존 react-dom 의 render 메서드를 대체할 새로운 메서드
        - hydrateRoot : 서버 사이드 렌더링 애플리케이션에서 하이드레이션을 하기 위한 새로운 메서드
    - react-dom/server
        - renderToPipeableStream : Node.js 환경에서 리액트 컴포넌트를 HTML 로 렌더링 하는 메서드
        - renderToReadableStream : 웹 스트림(web stream) 기반으로 리액트 컴포넌트를 HTML 로 렌더링 하는 메서드
    - 자동 배치 제공 : 리액트가 여러 상태 업데이트를 하나의 리렌더링으로 묶어서 성능을 향상시키는 방법
    - 더욱 엄격해진 엄격 모드
        - 더 이상 안전하지 않은 특정 생명주기를 사용하는 컴포넌트에 대한 경고
        - 문자열 ref 사용 금지
        - findDOMNode에 대한 경고 출력
        - 구 Context API 사용 시 발생하는 경고
        - 예상치 못한 부작용 검사
    - Suspense 기능 강화
    - 인터넷 익스플로러 지원 중단에 따른 추가 폴리필 필요
    - 컴포넌트에서 undefined 를 반환해도 에러가 발생하지 않고, null 반환과 동일하게 처리됨.
        - `<Suspense fallback={undefined} />` 도 null 과 동일하게 처리됨.
    - renderToNodeStream 이 지원 중단되고, renderToPipeableStream 사용이 권장됨.
<br /> <br />